<!DOCTYPE html> <html lang="en"> <head> <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"> <meta charset="utf-8"> <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"> <meta http-equiv="X-UA-Compatible" content="IE=edge"> <title> Predicting road accidents in Spain using Open Data | Andreu Rodríguez Donaire </title> <meta name="author" content="Andreu Rodríguez Donaire"> <meta name="description" content="How Open Data can help to improve the security of our roads"> <meta property="og:site_name" content="Andreu Rodríguez Donaire"> <meta property="og:type" content="article"> <meta property="og:title" content="Andreu Rodríguez Donaire | Predicting road accidents in Spain using Open Data"> <meta property="og:url" content="https://anrodon.github.io/blog/2025/Predicting-road-accidents-in-Spain-using-Open-Data/"> <meta property="og:description" content="How Open Data can help to improve the security of our roads"> <meta property="og:locale" content="en"> <meta name="twitter:card" content="summary"> <meta name="twitter:title" content="Predicting road accidents in Spain using Open Data"> <meta name="twitter:description" content="How Open Data can help to improve the security of our roads"> <script type="application/ld+json">
    {
        "author":
        {
            "@type": "Person",
            "name": "Andreu Rodríguez Donaire"
        },
        "url": "https://anrodon.github.io/blog/2025/Predicting-road-accidents-in-Spain-using-Open-Data/",
        "@type": "BlogPosting",
        "description": "How Open Data can help to improve the security of our roads",
        "headline": "Predicting road accidents in Spain using Open Data",
        
        "sameAs": ["https://github.com/anrodon","https://www.kaggle.com/anrodon","https://www.linkedin.com/in/andreurodriguezdonaire"],
        
        "name": "Andreu Rodríguez Donaire",
        "@context": "https://schema.org"
    }
  </script> <link rel="stylesheet" href="/assets/css/bootstrap.min.css?a4b3f509e79c54a512b890d73235ef04"> <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/mdbootstrap@4.20.0/css/mdb.min.css" integrity="sha256-jpjYvU3G3N6nrrBwXJoVEYI/0zw8htfFnhT9ljN3JJw=" crossorigin="anonymous"> <link defer rel="stylesheet" href="/assets/css/academicons.min.css?f0b7046b84e425c55f3463ac249818f5"> <link defer rel="stylesheet" href="/assets/css/scholar-icons.css?62b2ac103a88034e6882a5be5f3e2772"> <link defer rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700|Roboto+Slab:100,300,400,500,700|Material+Icons&amp;display=swap"> <link defer rel="stylesheet" href="/assets/css/jekyll-pygments-themes-github.css?591dab5a4e56573bf4ef7fd332894c99" media="" id="highlight_theme_light"> <link rel="shortcut icon" href="data:image/svg+xml,&lt;svg%20xmlns=%22http://www.w3.org/2000/svg%22%20viewBox=%220%200%20100%20100%22&gt;&lt;text%20y=%22.9em%22%20font-size=%2290%22&gt;%F0%9F%A4%9F%F0%9F%8F%BC&lt;/text&gt;&lt;/svg&gt;"> <link rel="stylesheet" href="/assets/css/main.css?d41d8cd98f00b204e9800998ecf8427e"> <link rel="canonical" href="https://anrodon.github.io/blog/2025/Predicting-road-accidents-in-Spain-using-Open-Data/"> <script src="/assets/js/theme.js?a81d82887dd692e91686b43de4542f18"></script> <link defer rel="stylesheet" href="/assets/css/jekyll-pygments-themes-native.css?5847e5ed4a4568527aa6cfab446049ca" media="none" id="highlight_theme_dark"> <script>
    initTheme();
  </script> <script data-goatcounter="https://anrodon.goatcounter.com/count" async src="//gc.zgo.at/count.js"></script> </head> <body class="fixed-top-nav "> <header> <nav id="navbar" class="navbar navbar-light navbar-expand-sm fixed-top" role="navigation"> <div class="container"> <a class="navbar-brand title font-weight-lighter" href="/"> <span class="font-weight-bold">Andreu</span> Rodríguez Donaire </a> <button class="navbar-toggler collapsed ml-auto" type="button" data-toggle="collapse" data-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation"> <span class="sr-only">Toggle navigation</span> <span class="icon-bar top-bar"></span> <span class="icon-bar middle-bar"></span> <span class="icon-bar bottom-bar"></span> </button> <div class="collapse navbar-collapse text-right" id="navbarNav"> <ul class="navbar-nav ml-auto flex-nowrap"> <li class="nav-item "> <a class="nav-link" href="/">about </a> </li> <li class="nav-item active"> <a class="nav-link" href="/blog/">blog </a> </li> <li class="nav-item"> <button id="search-toggle" title="Search" onclick="openSearchModal()"> <span class="nav-link">ctrl k <i class="ti ti-search"></i></span> </button> </li> <li class="toggle-container"> <button id="light-toggle" title="Change theme"> <i class="ti ti-sun-moon" id="light-toggle-system"></i> <i class="ti ti-moon-filled" id="light-toggle-dark"></i> <i class="ti ti-sun-filled" id="light-toggle-light"></i> </button> </li> </ul> </div> </div> </nav> <progress id="progress" value="0"> <div class="progress-container"> <span class="progress-bar"></span> </div> </progress> </header> <div class="container mt-5" role="main"> <div class="post"> <header class="post-header"> <h1 class="post-title">Predicting road accidents in Spain using Open Data</h1> <h4>How Open Data can help to improve the security of our roads</h4> <p class="post-meta"> Created on May 19, 2025 </p> <p class="post-tags"> <a href="/blog/2025"> <i class="fa-solid fa-calendar fa-sm"></i> 2025 </a>   ·   <a href="/blog/tag/cars"> <i class="fa-solid fa-hashtag fa-sm"></i> cars</a>   <a href="/blog/tag/spain"> <i class="fa-solid fa-hashtag fa-sm"></i> Spain</a>   <a href="/blog/tag/data"> <i class="fa-solid fa-hashtag fa-sm"></i> data</a>   ·   <a href="/blog/category/data-science"> <i class="fa-solid fa-tag fa-sm"></i> data-science</a>   <a href="/blog/category/cars"> <i class="fa-solid fa-tag fa-sm"></i> cars</a>   <a href="/blog/category/code"> <i class="fa-solid fa-tag fa-sm"></i> code</a> </p> </header> <article class="post-content"> <div id="markdown-content"> <figure> <picture> <source class="responsive-img-srcset" srcset="/assets/img/posts/2025-05-19-Predicting-road-accidents-in-Spain-using-Open-Data/post-pic-480.webp 480w,/assets/img/posts/2025-05-19-Predicting-road-accidents-in-Spain-using-Open-Data/post-pic-800.webp 800w,/assets/img/posts/2025-05-19-Predicting-road-accidents-in-Spain-using-Open-Data/post-pic-1400.webp 1400w," type="image/webp" sizes="95vw"></source> <img src="/assets/img/posts/2025-05-19-Predicting-road-accidents-in-Spain-using-Open-Data/post-pic.jpg" class="img-fluid rounded z-depth-1" width="100%" height="auto" loading="eager" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> <p>In Spain, road accidents remain a significant public safety concern, leading to loss of lives (<strong>1.154 people lost their live on inter-urban roads in 2024</strong>)(font: <a href="https://elpais.com/espana/2025-01-10/1154-personas-murieron-en-las-carreteras-en-2024-14-mas-que-el-ano-anterior.html" rel="external nofollow noopener" target="_blank">El País</a>), injuries (<strong>4.634 hospital admissions in 2024</strong>)(font: <a href="https://elpais.com/espana/2025-01-10/1154-personas-murieron-en-las-carreteras-en-2024-14-mas-que-el-ano-anterior.html" rel="external nofollow noopener" target="_blank">El País</a>), and economic burdens. <strong>Despite various measures, predicting and preventing these incidents remains a challenge.</strong></p> <p>This article summarizes a small project I made which aims to leverage the power of <strong>machine learning to identify high-risk scenarios and suggest preventive measures</strong>.</p> <p>The aim of the project was to build a model that can <strong>predict if a road accident will have mortal victims or not</strong>, to be able to find which are the <strong>most relevant factors that lead to fatalities on the road</strong>.</p> <p>The metrics that I used to evolve the model have been accuracy and recall on the positive values for fatal accidents. I made this because it was crucial for me in this analysis to clearly detect the fatal accidents and was not that important if we had some false positives. <strong>At the end of the day, any recommendation we can give to avoid any accident will work on the right direction to safer roads.</strong></p> <p>With the identification of these factors I obtained conclusions that may help to provide measures that can prevent losses of lives.</p> <p>The data used for this project is the <a href="https://www.dgt.es/menusecundario/dgt-en-cifras/dgt-en-cifras-resultados/dgt-en-cifras-detalle/Ficheros-microdatos-de-accidentes-con-victimas-2023/" rel="external nofollow noopener" target="_blank">Ficheros microdatos de accidentes con víctimas 2023 dataset</a> by the Spanish General Traffic Administration (DGT — Dirección General de Tráfico). In the dataset webpage there is an excel file with the data and another one with the diccionary of the category identifiers.</p> <p>At the start of the project I took a look into the data and draw some plots that would help me understand better the dataset and obtain some draft hypothesis to work on.</p> <p>The first thing I saw is that the datset was clearly imbalanced. This was due to the fact that (luckily) most of the accidents don’t have fatal victims. <strong>In our dataset, more than 98% of the accidents didn’t have fatal victims.</strong> This fact would be a problem in order to create our model, so I created a new balanced version of the dataset selecting randomly non-fatal accidents until I had 50% of fatal and non-fatal accidents.</p> <p>With the plots previously drawn I was able to see some other interesting facts:</p> <ul> <li>Spain has a <strong>much higher fatality rate in the weekends and in holiday seasons</strong> (summer months + november and december).</li> </ul> <figure> <picture> <source class="responsive-img-srcset" srcset="/assets/img/posts/2025-05-19-Predicting-road-accidents-in-Spain-using-Open-Data/fig1-480.webp 480w,/assets/img/posts/2025-05-19-Predicting-road-accidents-in-Spain-using-Open-Data/fig1-800.webp 800w,/assets/img/posts/2025-05-19-Predicting-road-accidents-in-Spain-using-Open-Data/fig1-1400.webp 1400w," type="image/webp" sizes="95vw"></source> <img src="/assets/img/posts/2025-05-19-Predicting-road-accidents-in-Spain-using-Open-Data/fig1.png" class="img-fluid rounded z-depth-1 d-block mx-auto w-75" width="100%" height="auto" loading="eager" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> <figcaption class="caption">Proportion of Fatal and Non-Fatal accidents per day of the week</figcaption> </figure> <figure> <picture> <source class="responsive-img-srcset" srcset="/assets/img/posts/2025-05-19-Predicting-road-accidents-in-Spain-using-Open-Data/fig2-480.webp 480w,/assets/img/posts/2025-05-19-Predicting-road-accidents-in-Spain-using-Open-Data/fig2-800.webp 800w,/assets/img/posts/2025-05-19-Predicting-road-accidents-in-Spain-using-Open-Data/fig2-1400.webp 1400w," type="image/webp" sizes="95vw"></source> <img src="/assets/img/posts/2025-05-19-Predicting-road-accidents-in-Spain-using-Open-Data/fig2.png" class="img-fluid rounded z-depth-1 d-block mx-auto w-75" width="100%" height="auto" loading="eager" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> <figcaption class="caption">Proportion of Fatal and Non-Fatal accidents per month</figcaption> </figure> <ul> <li> <strong>Fatal accidents use to happen in interurban roads</strong>. We can see it not only in the <code class="language-plaintext highlighter-rouge">ZONA_AGRUPADA</code> category (the one that indicates 1 if the road where the accident happen is inter-urban and 2 if it is urban) but also in the <code class="language-plaintext highlighter-rouge">ZONA</code> (showing a big proportion of fatal accidents in inter-urban roads and an inverse proportion in streets) or the <code class="language-plaintext highlighter-rouge">COD_PROVINCIA</code> (shows a bigger proportion of non-fatal accidents in provinces like Madrid or Barcelona which most of its population lives in big cities).</li> </ul> <figure> <picture> <source class="responsive-img-srcset" srcset="/assets/img/posts/2025-05-19-Predicting-road-accidents-in-Spain-using-Open-Data/fig3-480.webp 480w,/assets/img/posts/2025-05-19-Predicting-road-accidents-in-Spain-using-Open-Data/fig3-800.webp 800w,/assets/img/posts/2025-05-19-Predicting-road-accidents-in-Spain-using-Open-Data/fig3-1400.webp 1400w," type="image/webp" sizes="95vw"></source> <img src="/assets/img/posts/2025-05-19-Predicting-road-accidents-in-Spain-using-Open-Data/fig3.png" class="img-fluid rounded z-depth-1 d-block mx-auto w-75" width="100%" height="auto" loading="eager" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> <figcaption class="caption">1 means inter-urban roads and 2 urban roads</figcaption> </figure> <figure> <picture> <source class="responsive-img-srcset" srcset="/assets/img/posts/2025-05-19-Predicting-road-accidents-in-Spain-using-Open-Data/fig4-480.webp 480w,/assets/img/posts/2025-05-19-Predicting-road-accidents-in-Spain-using-Open-Data/fig4-800.webp 800w,/assets/img/posts/2025-05-19-Predicting-road-accidents-in-Spain-using-Open-Data/fig4-1400.webp 1400w," type="image/webp" sizes="95vw"></source> <img src="/assets/img/posts/2025-05-19-Predicting-road-accidents-in-Spain-using-Open-Data/fig4.png" class="img-fluid rounded z-depth-1 d-block mx-auto w-75" width="100%" height="auto" loading="eager" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> <figcaption class="caption">1 means inter-urban road, 2 means inter-urban road inside town, 3 means street, 4 urban motorway</figcaption> </figure> <figure> <picture> <source class="responsive-img-srcset" srcset="/assets/img/posts/2025-05-19-Predicting-road-accidents-in-Spain-using-Open-Data/fig5-480.webp 480w,/assets/img/posts/2025-05-19-Predicting-road-accidents-in-Spain-using-Open-Data/fig5-800.webp 800w,/assets/img/posts/2025-05-19-Predicting-road-accidents-in-Spain-using-Open-Data/fig5-1400.webp 1400w," type="image/webp" sizes="95vw"></source> <img src="/assets/img/posts/2025-05-19-Predicting-road-accidents-in-Spain-using-Open-Data/fig5.png" class="img-fluid rounded z-depth-1 d-block mx-auto w-75" width="100%" height="auto" loading="eager" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> <figcaption class="caption">Most populated areas show less percentage of fatal accidents</figcaption> </figure> <ul> <li> <strong>Almost half of the mortal accidents happen in single-lane conventional roads</strong>. The other half is mostly happening in urban roads and expressways.</li> </ul> <figure> <picture> <source class="responsive-img-srcset" srcset="/assets/img/posts/2025-05-19-Predicting-road-accidents-in-Spain-using-Open-Data/fig6-480.webp 480w,/assets/img/posts/2025-05-19-Predicting-road-accidents-in-Spain-using-Open-Data/fig6-800.webp 800w,/assets/img/posts/2025-05-19-Predicting-road-accidents-in-Spain-using-Open-Data/fig6-1400.webp 1400w," type="image/webp" sizes="95vw"></source> <img src="/assets/img/posts/2025-05-19-Predicting-road-accidents-in-Spain-using-Open-Data/fig6.png" class="img-fluid rounded z-depth-1 d-block mx-auto w-75" width="100%" height="auto" loading="eager" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> <figcaption class="caption">1 and 2 mean toll and toll-free highways, 3 means motorway, 6 means single-lane conventional road, 9 means street</figcaption> </figure> <ul> <li><strong>Most fatal accidents are frontal collisions followed by run-off-road collisions and pedestrian hits.</strong></li> </ul> <figure> <picture> <source class="responsive-img-srcset" srcset="/assets/img/posts/2025-05-19-Predicting-road-accidents-in-Spain-using-Open-Data/fig7-480.webp 480w,/assets/img/posts/2025-05-19-Predicting-road-accidents-in-Spain-using-Open-Data/fig7-800.webp 800w,/assets/img/posts/2025-05-19-Predicting-road-accidents-in-Spain-using-Open-Data/fig7-1400.webp 1400w," type="image/webp" sizes="95vw"></source> <img src="/assets/img/posts/2025-05-19-Predicting-road-accidents-in-Spain-using-Open-Data/fig7.png" class="img-fluid rounded z-depth-1 d-block mx-auto w-75" width="100%" height="auto" loading="eager" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> <figcaption class="caption">1=frontal, 2=fronto-lateral, 3=lateral, 4=rear-end, 7=pedestrian hits, 10=falls, 12&amp;16=run-off-road with collision</figcaption> </figure> <ul> <li> <strong>Most fatal accident victims are car &amp; motorbike drivers/passengers &amp; pedestrians.</strong> This demonstrates the obvious fact that public transportation is a safer alternative of transportation</li> </ul> <figure> <picture> <source class="responsive-img-srcset" srcset="/assets/img/posts/2025-05-19-Predicting-road-accidents-in-Spain-using-Open-Data/fig8-480.webp 480w,/assets/img/posts/2025-05-19-Predicting-road-accidents-in-Spain-using-Open-Data/fig8-800.webp 800w,/assets/img/posts/2025-05-19-Predicting-road-accidents-in-Spain-using-Open-Data/fig8-1400.webp 1400w," type="image/webp" sizes="95vw"></source> <img src="/assets/img/posts/2025-05-19-Predicting-road-accidents-in-Spain-using-Open-Data/fig8.png" class="img-fluid rounded z-depth-1 d-block mx-auto w-75" width="100%" height="auto" loading="eager" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> <ul> <li><strong>There are more fatal accidents happening in the night, specially at 3AM.</strong></li> </ul> <figure> <picture> <source class="responsive-img-srcset" srcset="/assets/img/posts/2025-05-19-Predicting-road-accidents-in-Spain-using-Open-Data/fig9-480.webp 480w,/assets/img/posts/2025-05-19-Predicting-road-accidents-in-Spain-using-Open-Data/fig9-800.webp 800w,/assets/img/posts/2025-05-19-Predicting-road-accidents-in-Spain-using-Open-Data/fig9-1400.webp 1400w," type="image/webp" sizes="95vw"></source> <img src="/assets/img/posts/2025-05-19-Predicting-road-accidents-in-Spain-using-Open-Data/fig9.png" class="img-fluid rounded z-depth-1 d-block mx-auto w-75" width="100%" height="auto" loading="eager" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> <p>These first facts already give hints about where to look deeper to increase security on the spanish roads.</p> <p>After this analysis, I started investigating which models would work better to classify if one accident will have or not fatal victims.</p> <p>After reading <a href="https://www.google.com/url?q=https%3A%2F%2Fwww.sciencedirect.com%2Fscience%2Farticle%2Fabs%2Fpii%2FS0926580519305151" rel="external nofollow noopener" target="_blank">Machine learning predictive model based on national data for fatal accidents of construction workers</a> by Jongko Choi, Bonsung Gu, Sangyoon Chin, Jong-Seok Lee, I decided to proceed with a model based on a <strong>Random Forest Classifier as it was predictive model that performed the best when classifying workers who might face a fatality risk.</strong></p> <p>In addition to this, the <strong>Pandas Random Forest Classifier provides built-in feature importance scores</strong>. These <strong>scores indicate how much each feature contributes to the model’s predictions</strong>. This helped to identify which are the factors that contribute the most to fatality in road accidents.</p> <p>Before starting with the model, I eliminated from the dataset all columns that indicated number of fatalities as they would clearly influence my analisis to much.</p> <p>After that, to be able to use the Random Forest Classifier I needed all the variables in my dataset to be numerical, so I converted all the non-numerical columns to numerical and imputed the NaNs. I created a pipeline for that and then created train and test inputs to fit the model.</p> <figure> <picture> <source class="responsive-img-srcset" srcset="/assets/img/posts/2025-05-19-Predicting-road-accidents-in-Spain-using-Open-Data/fig10-480.webp 480w,/assets/img/posts/2025-05-19-Predicting-road-accidents-in-Spain-using-Open-Data/fig10-800.webp 800w,/assets/img/posts/2025-05-19-Predicting-road-accidents-in-Spain-using-Open-Data/fig10-1400.webp 1400w," type="image/webp" sizes="95vw"></source> <img src="/assets/img/posts/2025-05-19-Predicting-road-accidents-in-Spain-using-Open-Data/fig10.png" class="img-fluid rounded z-depth-1 d-block mx-auto w-75" width="100%" height="auto" loading="eager" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> <p>This first version of the model showed to perform really good, with an accuracy of 86%.</p> <figure> <picture> <source class="responsive-img-srcset" srcset="/assets/img/posts/2025-05-19-Predicting-road-accidents-in-Spain-using-Open-Data/fig11-480.webp 480w,/assets/img/posts/2025-05-19-Predicting-road-accidents-in-Spain-using-Open-Data/fig11-800.webp 800w,/assets/img/posts/2025-05-19-Predicting-road-accidents-in-Spain-using-Open-Data/fig11-1400.webp 1400w," type="image/webp" sizes="95vw"></source> <img src="/assets/img/posts/2025-05-19-Predicting-road-accidents-in-Spain-using-Open-Data/fig11.png" class="img-fluid rounded z-depth-1 d-block mx-auto w-75" width="100%" height="auto" loading="eager" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> <p>I decided to see which were the features that had more importance in order to find useful conclusions and I saw that the most important features were the number of injured people in the accident.</p> <figure> <picture> <source class="responsive-img-srcset" srcset="/assets/img/posts/2025-05-19-Predicting-road-accidents-in-Spain-using-Open-Data/fig12-480.webp 480w,/assets/img/posts/2025-05-19-Predicting-road-accidents-in-Spain-using-Open-Data/fig12-800.webp 800w,/assets/img/posts/2025-05-19-Predicting-road-accidents-in-Spain-using-Open-Data/fig12-1400.webp 1400w," type="image/webp" sizes="95vw"></source> <img src="/assets/img/posts/2025-05-19-Predicting-road-accidents-in-Spain-using-Open-Data/fig12.png" class="img-fluid rounded z-depth-1 d-block mx-auto w-75" width="100%" height="auto" loading="eager" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> <p><strong>Surprisingly, the 2 features indicating the number of minor injured victims showed much higher importance than the major injured.</strong></p> <p>As this conclusions were not enough for me, I decided to eliminate from the original dataset the columns that had information about the injured victims and fit the model again.</p> <p>As expected the accuracy of the model was much lower (75%), so I decided to improve the model by trying a couple of things:</p> <ol> <li>Add engineered features</li> <li>Doing RandomSearch to look for better parameters that should help obtain better accuracy</li> </ol> <p>I tried to add the following engineered features:</p> <ol> <li>Weekend: 1 if weekend else 0</li> <li>Night: 1 if hour between 0 and 8 and between 21 and 24 else 0</li> <li>inStreet: 1 if accident happened in a street else 0</li> </ol> <p>After doing so, I <strong>fitted the model again without satisfactory results so I decided to remove the new features</strong>.</p> <p>Then, proceeded to do the <strong>RandomSearch which provided great improvements in our target metric</strong> (recall) (<strong>up to 87% for predicting actual fatal accidents</strong>). The number of <strong>false positives also incremented</strong> but is nothing to worry about as the <strong>worst that could happen is that we recommend measures to reduce mortality in accidents that are already not mortal</strong>.</p> <figure> <picture> <source class="responsive-img-srcset" srcset="/assets/img/posts/2025-05-19-Predicting-road-accidents-in-Spain-using-Open-Data/fig13-480.webp 480w,/assets/img/posts/2025-05-19-Predicting-road-accidents-in-Spain-using-Open-Data/fig13-800.webp 800w,/assets/img/posts/2025-05-19-Predicting-road-accidents-in-Spain-using-Open-Data/fig13-1400.webp 1400w," type="image/webp" sizes="95vw"></source> <img src="/assets/img/posts/2025-05-19-Predicting-road-accidents-in-Spain-using-Open-Data/fig13.png" class="img-fluid rounded z-depth-1 d-block mx-auto w-75" width="100%" height="auto" loading="eager" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> <p>Being happy with the model, I started analysing the importance of the features in predicting fatal accidents.</p> <figure> <picture> <source class="responsive-img-srcset" srcset="/assets/img/posts/2025-05-19-Predicting-road-accidents-in-Spain-using-Open-Data/fig14-480.webp 480w,/assets/img/posts/2025-05-19-Predicting-road-accidents-in-Spain-using-Open-Data/fig14-800.webp 800w,/assets/img/posts/2025-05-19-Predicting-road-accidents-in-Spain-using-Open-Data/fig14-1400.webp 1400w," type="image/webp" sizes="95vw"></source> <img src="/assets/img/posts/2025-05-19-Predicting-road-accidents-in-Spain-using-Open-Data/fig14.png" class="img-fluid rounded z-depth-1 d-block mx-auto w-75" width="100%" height="auto" loading="eager" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> <p>As is clearly shown in the graphic, by far the most relevant feature was <code class="language-plaintext highlighter-rouge">SENTIDO_1F</code> when the value was 4. When <code class="language-plaintext highlighter-rouge">SENTIDO_1F</code> is equal to 1 it means that the vehicle was going in the direction that augments the kilometric point of the road, 2 when its in the opposite direction, 3 when both and 4 when unknown.</p> <p>When <code class="language-plaintext highlighter-rouge">SENTIDO_1F</code>is unknown is most probably because <strong>the road itself doesn’t have kilometric points</strong>. In Spain, those roads are <strong>basically urban roads and the highways, which we know for the statistical analysis that are the ones with lower fatality rates</strong>.</p> <p>This makes much sense as basically this feature indicates that the <strong>road where the accident happened should be a safe road</strong>.</p> <p>In this regard we also see in the top20 features like <code class="language-plaintext highlighter-rouge">inStreet</code> or <code class="language-plaintext highlighter-rouge">TIPO_VIA_9</code> which clearly indicate <strong>streets</strong>.</p> <p>On the other hand we also see features like the number of vehicles taking part in the accident (<code class="language-plaintext highlighter-rouge">TOTAL_VEHICULOS</code>). We can explore this later.</p> <p>Other interesting findings are <code class="language-plaintext highlighter-rouge">CONDICION_ILUMINACION_6</code> which means that there was <strong>no artificial or natural light in the accident (may lead to think about nightime)</strong> or <code class="language-plaintext highlighter-rouge">ACERA_998</code> which means that the information about the <strong>sidewalk does not apply (may lead to think about interurban roads)</strong>.</p> <p>Another repeated column in the features with most importance seems to be the accident type. Because of that, I wanted to see the feature importance of the type of accidents and type of roads.</p> <figure> <picture> <source class="responsive-img-srcset" srcset="/assets/img/posts/2025-05-19-Predicting-road-accidents-in-Spain-using-Open-Data/fig15-480.webp 480w,/assets/img/posts/2025-05-19-Predicting-road-accidents-in-Spain-using-Open-Data/fig15-800.webp 800w,/assets/img/posts/2025-05-19-Predicting-road-accidents-in-Spain-using-Open-Data/fig15-1400.webp 1400w," type="image/webp" sizes="95vw"></source> <img src="/assets/img/posts/2025-05-19-Predicting-road-accidents-in-Spain-using-Open-Data/fig15.png" class="img-fluid rounded z-depth-1 d-block mx-auto w-75" width="100%" height="auto" loading="eager" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> <p>We basically see 5 types of accidents with the highest feature importance.</p> <ul> <li> <strong>Type 1:</strong> Frontal crash</li> <li> <strong>Type 10:</strong> Fall</li> <li> <strong>Type 4:</strong> Read-end</li> <li> <strong>Type 16:</strong> Run-off-road with crash to the right side</li> <li> <strong>Type 8:</strong> Animal runover</li> </ul> <p>It’s interesting to see that type pedestrian runover doesn’t have importance in predicting the fatality of an accident when there are so many pedestrian deads due to these type of accidents.</p> <p>Looking at our descriptive statistics from before, we can tell that probably a <strong>frontal crash or a run-off-road with crash to the right side will predict a fatal accident</strong> and that a <strong>fall, a rear-end or an animal runover may predict a non fatal accident</strong>.</p> <p>I also wanted to look again at the importance of the features related with the type of the road, which showed me again that if accidents happen in streets is the only type of road that is important in order to predict (non-)fatal accidents.</p> <figure> <picture> <source class="responsive-img-srcset" srcset="/assets/img/posts/2025-05-19-Predicting-road-accidents-in-Spain-using-Open-Data/fig16-480.webp 480w,/assets/img/posts/2025-05-19-Predicting-road-accidents-in-Spain-using-Open-Data/fig16-800.webp 800w,/assets/img/posts/2025-05-19-Predicting-road-accidents-in-Spain-using-Open-Data/fig16-1400.webp 1400w," type="image/webp" sizes="95vw"></source> <img src="/assets/img/posts/2025-05-19-Predicting-road-accidents-in-Spain-using-Open-Data/fig16.png" class="img-fluid rounded z-depth-1 d-block mx-auto w-75" width="100%" height="auto" loading="eager" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> <p>To finish, I wanted to look deeper at the <code class="language-plaintext highlighter-rouge">TOTAL_VEHICULOS</code> feature.</p> <p>Let’s see in a plot how the fatality rate evolves in relationship with the total amount of vehicles involved in an accident.</p> <figure> <picture> <source class="responsive-img-srcset" srcset="/assets/img/posts/2025-05-19-Predicting-road-accidents-in-Spain-using-Open-Data/fig17-480.webp 480w,/assets/img/posts/2025-05-19-Predicting-road-accidents-in-Spain-using-Open-Data/fig17-800.webp 800w,/assets/img/posts/2025-05-19-Predicting-road-accidents-in-Spain-using-Open-Data/fig17-1400.webp 1400w," type="image/webp" sizes="95vw"></source> <img src="/assets/img/posts/2025-05-19-Predicting-road-accidents-in-Spain-using-Open-Data/fig17.png" class="img-fluid rounded z-depth-1 d-block mx-auto w-75" width="100%" height="auto" loading="eager" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> <p>The graphic shows us that for most fatal accidents, surprisingly the more frequent feature is only one vehicle involved.</p> <p>Let’s see fatal accidents with just one vehicle involved by accident type.</p> <figure> <picture> <source class="responsive-img-srcset" srcset="/assets/img/posts/2025-05-19-Predicting-road-accidents-in-Spain-using-Open-Data/fig18-480.webp 480w,/assets/img/posts/2025-05-19-Predicting-road-accidents-in-Spain-using-Open-Data/fig18-800.webp 800w,/assets/img/posts/2025-05-19-Predicting-road-accidents-in-Spain-using-Open-Data/fig18-1400.webp 1400w," type="image/webp" sizes="95vw"></source> <img src="/assets/img/posts/2025-05-19-Predicting-road-accidents-in-Spain-using-Open-Data/fig18.png" class="img-fluid rounded z-depth-1 d-block mx-auto w-75" width="100%" height="auto" loading="eager" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> <p>We see that they are mostly pedestrian hits and run-off-road accidents.</p> <p>To conclude with this small experiment, we can say:</p> <ul> <li> <strong>Weekends and holiday seasons are more likely to have fatal accidents, specially in the night.</strong> We see a correlation of this with the deployment of special controls by police officers for example.</li> <li> <strong>Fatal accidents use to happen in inter-urban roads, specially in single-lane roads.</strong> The administration has already a track record of measures working to reduce the fatality rate in inter-urban roads with the installation of speed cameras, speed-enforcement zones, reduction of speed limits in inter-urban roads, etc.</li> <li> <strong>Most fatal accidents are frontal collisions followed by run-off-road collisions and pedestrian hits.</strong> The homologation of vehicles is very strict in Europe regarding pedestrian hit security. Also, we see certifications like EuroNCAP evaluating the security of vehicles against many different accidents.</li> <li> <strong>Pedestrians, cyclists and motorbike riders/passengers are more likely to die in an accident than other groups on the road.</strong> There is still room to improve in working towards the security of most vulnerable road users, but we have seen already some changes in the laws to improve it.</li> </ul> <p>Luckily we can say that our administrations have in their hands already useful data to make our roads more secure, and measures are already being implement. Besides that is always good to remind that it is a collective work to try to avoid any loss of lives in the road.</p> <p>As conclusions of the project, I can say that <strong>Open Data can clearly help to improve the security of the roads</strong>. Accessible data like the one in the dataset used may help other data science enthusiasts and professionals in different industries help solve this and other problems that sadly still exist.</p> <p>Personally this project has been a great experience to learn more about classification models and its optimisation, and also to learn more about the road accidents that sadly still kill too many people in Spain.</p> <p>All the code can be found in my <a href="https://github.com/anrodon/predicting-road-accidents-in-spain" rel="external nofollow noopener" target="_blank">Github</a> profile.</p> </div> </article> <br> <hr> <br> <ul class="list-disc pl-8"></ul> <h2 class="text-3xl font-semibold mb-4 mt-12">Enjoy Reading This Article?</h2> <p class="mb-2">Here are some more articles you might like to read next:</p> <li class="my-2"> <a class="text-pink-700 underline font-semibold hover:text-pink-800" href="/blog/2025/Spain's-bumpy-road-towards-electrification/">Spain’s bumpy road towards electrification</a> </li> <div id="giscus_thread" style="max-width: 930px; margin: 0 auto;"> <br> <script defer src="/assets/js/giscus-setup.js"></script> <noscript> Please enable JavaScript to view the <a href="http://giscus.app/?ref_noscript" rel="external nofollow noopener" target="_blank">comments powered by giscus.</a> </noscript> </div> <div class="social"> <div class="contact-icons"> <a href="https://github.com/anrodon" title="GitHub" rel="external nofollow noopener" target="_blank"><i class="fa-brands fa-github"></i></a> <a href="https://www.kaggle.com/anrodon" title="Kaggle" rel="external nofollow noopener" target="_blank"><i class="fa-brands fa-kaggle"></i></a> <a href="https://www.linkedin.com/in/andreurodriguezdonaire" title="LinkedIn" rel="external nofollow noopener" target="_blank"><i class="fa-brands fa-linkedin"></i></a> </div> <div class="contact-note"></div> </div> </div> </div> <footer class="fixed-bottom" role="contentinfo"> <div class="container mt-0"> © Copyright 2025 Andreu Rodríguez Donaire. </div> </footer> <script src="https://cdn.jsdelivr.net/npm/jquery@3.6.0/dist/jquery.min.js" integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script> <script src="/assets/js/bootstrap.bundle.min.js"></script> <script src="https://cdn.jsdelivr.net/npm/mdbootstrap@4.20.0/js/mdb.min.js" integrity="sha256-NdbiivsvWt7VYCt6hYNT3h/th9vSTL4EDWeGs5SN3DA=" crossorigin="anonymous"></script> <script defer src="https://cdn.jsdelivr.net/npm/masonry-layout@4.2.2/dist/masonry.pkgd.min.js" integrity="sha256-Nn1q/fx0H7SNLZMQ5Hw5JLaTRZp0yILA/FRexe19VdI=" crossorigin="anonymous"></script> <script defer src="https://cdn.jsdelivr.net/npm/imagesloaded@5.0.0/imagesloaded.pkgd.min.js" integrity="sha256-htrLFfZJ6v5udOG+3kNLINIKh2gvoKqwEhHYfTTMICc=" crossorigin="anonymous"></script> <script defer src="/assets/js/masonry.js?a0db7e5d5c70cc3252b3138b0c91dcaf" type="text/javascript"></script> <script defer src="https://cdn.jsdelivr.net/npm/medium-zoom@1.1.0/dist/medium-zoom.min.js" integrity="sha256-ZgMyDAIYDYGxbcpJcfUnYwNevG/xi9OHKaR/8GK+jWc=" crossorigin="anonymous"></script> <script defer src="/assets/js/zoom.js?85ddb88934d28b74e78031fd54cf8308"></script> <script src="/assets/js/no_defer.js?2781658a0a2b13ed609542042a859126"></script> <script defer src="/assets/js/common.js?e0514a05c5c95ac1a93a8dfd5249b92e"></script> <script defer src="/assets/js/copy_code.js?c8a01c11a92744d44b093fc3bda915df" type="text/javascript"></script> <script defer src="/assets/js/jupyter_new_tab.js?d9f17b6adc2311cbabd747f4538bb15f"></script> <script async src="https://d1bxh8uas1mnw7.cloudfront.net/assets/embed.js"></script> <script async src="https://badge.dimensions.ai/badge.js"></script> <script defer type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3.2.2/es5/tex-mml-chtml.js" integrity="sha256-MASABpB4tYktI2Oitl4t+78w/lyA+D7b/s9GEP0JOGI=" crossorigin="anonymous"></script> <script src="/assets/js/mathjax-setup.js?a5bb4e6a542c546dd929b24b8b236dfd"></script> <script defer src="https://cdnjs.cloudflare.com/polyfill/v3/polyfill.min.js?features=es6" crossorigin="anonymous"></script> <script defer src="/assets/js/progress-bar.js?2f30e0e6801ea8f5036fa66e1ab0a71a" type="text/javascript"></script> <script src="/assets/js/vanilla-back-to-top.min.js?f40d453793ff4f64e238e420181a1d17"></script> <script>
    addBackToTop();
  </script> <script type="module" src="/assets/js/search/ninja-keys.min.js?a3446f084dcaecc5f75aa1757d087dcf"></script> <ninja-keys hidebreadcrumbs noautoloadmdicons placeholder="Type to start searching"></ninja-keys> <script src="/assets/js/search-setup.js?6c304f7b1992d4b60f7a07956e52f04a"></script> <script src="/assets/js/search-data.js"></script> <script src="/assets/js/shortcut-key.js?6f508d74becd347268a7f822bca7309d"></script> </body> </html>